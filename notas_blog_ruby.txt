"""
Validando o que o usuário está mandando 
Essas alterações garantirão que todos os artigos tenham um 
	título com pelo menos cinco caracteres
"""

class Article < ApplicationRecord
  validates :title, presence: true,
                    length: { minimum: 5 }
end

#Verificando se o usuário escreveu 

 if @article.save #Se ele conseguiu salvar algo 
    redirect_to @article
  else #Se o usuário não escreveu nada
    render 'new'
  end
  
  """
class ArticlesController < ApplicationController
  def show
	@article = Article.find(params[:id])
  end
  def new
  end
  def index
	@articles = Article.all
  end
 
  def create
	#render plain: params[:article].inspect
	
	
	#@article = Article.new(params.require[:article].permit(:title, :text))
	
	#Salvando o que o usuário digitou 
	@article = Article.new(article_params)
	if @article.save 
		redirect_to @article
	else
	end
  end
  private
	def article_params
		#Permite a requisição do que foi salvo 
		params.require(:article).permit(:title, :text)
		
	end
end
"""
https://stackoverflow.com/questions/23639075/ruby-on-rails-tutorial-nomethoderror-in-articlesindex


<%= form_with scope: :article, url: articles_path, local: true do |form| %>

  <% if @article.errors.any?%>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@article.errors.count, "erro") %> impediram
        esse artigo de ser publicado:
      </h2>
      <ul> <!--Listando os erros-->
        <% @article.errors.full_messages.each do |msg| %> <!--Agrupamento dos erros-->
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
 
  <p>
    <%= form.label :title %><br>
    <%= form.text_field :title %>
  </p>
 
  <p>
    <%= form.label :text %><br>
    <%= form.text_area :text %>
  </p>
 
  <p>
    <%= form.submit %>
  </p>
 
<% end %>
 
<%= link_to 'Back', articles_path %>

<h1>Edit article</h1>
 
<%= form_with(model: @article, local: true) do |form| %>
 
  <% if @article.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@article.errors.count, "error") %> prohibited
        this article from being saved:
      </h2>
      <ul>
        <% @article.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
 
  <p>
    <%= form.label :title %><br>
    <%= form.text_field :title %>
  </p>
 
  <p>
    <%= form.label :text %><br>
    <%= form.text_area :text %>
  </p>
 
  <p>
    <%= form.submit %>
  </p>
 
<% end %>
 
<%= link_to 'Back', articles_path %>